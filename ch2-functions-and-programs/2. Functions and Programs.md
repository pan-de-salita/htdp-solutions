### Contents
1. Functions
2. Computing
3. Composing Functions 
4. Global Constants 
5. Programs 

**Relation of algebra to programs:** 
- variable 
- function definiton 
- function application 
- function composition 

##### 2.1 Functions
**Programs are functions.**

Two kinds of definitions: 
- constant definitions 
- function definitions 

**Functions**
A new operation on data -- adds an operation to our vocabulary if we think of the primitive operations as the ones that are always available. 

Consumes inputs. The number of variables defines how many inputs a function accepts. 

Churns out output. The expression -- also called the function body -- determines the output. 

We don't need to write functions or programs if the output is always the same. 

Variables aren't data. The *represent* data.

A reference to a function parameter is really a reference to the piece of data that is the input to the function.

##### 2.2 Computing
Procedure for evaluating a function application: 
1. DR determines the values of the argument expressions
2. DR checkes that the number of arguments and the number of function parameters are the same
3. If 2. is satisfied, DR computes the value of the body of the function, with all parameters replaced by the corresponcing argument values (**this last values if hte value of the function application**)

##### 2.3 Composing functions
Functions in a program 
- Typically, the program will only have one main function and several other functions that turn the result of one function application into the input of another
- This way of defining a function: **function composition**
- Additional functions that support the main function: **auxiliary/helper functions**

*Define one function per task.*

**Sample problem.** The owner of a monopolistic movie theater in a small town has complete freedom in setting ticket prices. The more he charges, the fewer people can afford tickets. The less he charges, the more it costs to run a show because attendance goes up. In a recent experiment the owner determined a relationship between the price of a ticket and average attendance.

At a price of $5.00 per ticket, 120 people attend a performance. For each 10-cent change in the ticket price, the average attendance changes by 15 people. That is, if the owner charges $5.10, some 105 people attend on the average; if the price goes down to $4.90, average attendance increases to 135. Letâ€™s translate this idea into a mathematical formula:

> ![image](https://htdp.org/2022-8-7/Book/pict_33.png)

Stop! Explain the minus sign before you proceed.

Unfortunately, the increased attendance also comes at an increased cost. Every performance comes at a fixed cost of $180 to the owner plus a variable cost of $0.04 per attendee.

The owner would like to know the exact relationship between profit and ticket price in order to maximize the profit.

*Tease out the various dependencies, one by one: 

1. The problem statement specifies how the number of *attendees* depends on the ticket price. Computing this number clearly a separate task and thus deserves its own function definition: 
	    `(define (attendees ticket-price)
		   `(- 120 (* (- ticket-price 5.0) (/ 15 0.1))))
2. The *revenue* is exclusively generated by the sale of tickets, meaning it is exactly the product of ticket price and number of attendees: 
   	    `(define (revenue ticket-price)
		   `(* ticket-price (attendees ticket-price)))
3. The *cost* consists of two parts: a fixed part ($180) and a variable part that depends on the number of attendees. Given that the number of attendees is a function of the ticket price, a function for computing the cost of a show must also consume the ticket price so that it can reuse the `attendees` function: 
   	    `(define (cost ticket-price)
		   `(+ 180 (* 0.04 (attendees ticket-price))))
4. Finally, *profit* is the difference between revenue and costs for some given ticket price: 
      	    `(define (profit ticket-price)
		   `(- (revenue ticket-price)
			   `(cost ticket-price)))`

##### 2.4 Global constants
- Name of a constant: **global variable**
- Definition: **constant definition**
- Expression in a constant definition: the **right-hand side** of the definition

*For every constant mentioned in a problem statement, introduce on constant definiton. 

##### 2.5 Programs
2 main kinds of programs: 
- **Batch program** - consumes all inputs at once and computes its result
- **Interactive program** - consumes some of its inputs, computes, produrces some output, consumes more input, and so on; is an **event-driven program**
	- **Event** - the receiving of an input
	- **Event handler** - an auxilliary function called by the main function when an input matches certain conditions within its body 

New functions via `(provide 2htdp/batch-io)`
- `read-file` - reads the content of an entire file as a string
- `write-file` - creates a file from a given string

1. Hardware
2. Software
	1. Operating system - manages the computer for the user, facilitates the user/computer interface

With interactive programs, the task of the main function is to communicate the appropriate designations to the operating system, that is, the software platform on which the program is launched. 

`2htdp/universe`
- `big-bang`
	- tells the OS which function deals with which event
	- keeps track of the **state of the program**
		- comes with(?) one required sub-expresion, whose value becomes the **initial state** of the program. otherwise `big-bang` consists of one required clause and many optional clauses 
			- `to-draw` is a required clause that tells DR how to render the state of the program, including the initial one
			- each of the other, *optional* clauses tells the OS that a certain function takes care of a certain event 
		- taking care of an even tin BSL means that the function consumes the state of the program and a decription of the vent, and that it produces the enxt states of the program. we therefore speak of the **current state** of the program













